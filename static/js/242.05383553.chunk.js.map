{"version":3,"file":"static/js/242.05383553.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","components/apiServise/apiMovies.js","webpack://react-homework-template/./src/components/pages/MoviesPage/MoviesPage.module.css?523c","webpack://react-homework-template/./src/components/MoviesSearchForm/MoviesSearchForm.module.css?c270","components/MoviesSearchForm/MoviesSearchForm.jsx","components/pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movie_item\":\"MoviesList_movie_item__PcQeH\",\"movie_link\":\"MoviesList_movie_link__qHdLU\"};","import { Link, useLocation } from 'react-router-dom';\n\nimport css from '../MoviesList/MoviesList.module.css';\n\nconst MoviesList = ({ items }) => {\n  const location = useLocation();\n  console.log(location);\n\n  const listMovies = items.map(({ id, title }) => (\n    <li className={css.movie_item} key={id}>\n      <Link\n        className={css.movie_link}\n        state={{ from: location }}\n        to={`/movies/${id}`}\n      >\n        {title}\n      </Link>\n    </li>\n  ));\n\n  return <ul className={css.movie_list}>{listMovies}</ul>;\n};\nexport default MoviesList;\n\nMoviesList.defaultProps = {\n  items: [],\n};\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/',\n});\n\nexport const getMovies = async () => {\n  const { data } = await instance.get(\n    `/trending/movie/day?api_key=6de1479941bef67a0c224787b78603f1`\n  );\n  return data;\n};\n\nexport const getSingleMovie = async id => {\n  const { data } = await instance.get(\n    `/movie/${id}?api_key=6de1479941bef67a0c224787b78603f1`\n  );\n  return data;\n};\n\n// export async function searchMovies(value) {\n//   const res = await fetch(\n//     `https://api.themoviedb.org/3/search/movie?api_key=6de1479941bef67a0c224787b78603f1&language=en-US&query=${value}&page=1&include_adult=false`\n//   );\n//   const info = await res.json();\n//   return info;\n// }\n\nexport const searchMovies = async query => {\n  const { data } = await instance.get(`/search/movie/`, {\n    params: {\n      query,\n      api_key: '6de1479941bef67a0c224787b78603f1',\n    },\n  });\n  return data;\n};\n\nexport const getCastMovie = async id => {\n  const { data } = await instance.get(\n    `/movie/${id}/credits?api_key=6de1479941bef67a0c224787b78603f1`\n  );\n  return data;\n};\n\nexport const getReviewsMovie = async id => {\n  const { data } = await instance.get(\n    `/movie/${id}/reviews?api_key=6de1479941bef67a0c224787b78603f1`\n  );\n  return data;\n};\n\n// export const getMovies = async () => {\n//   const { data } = await axios.get(\n//     `https://api.themoviedb.org/3/trending/all/day?api_key=6de1479941bef67a0c224787b78603f1`\n//   );\n//   return data;\n// };\n\n// export default getMovies;\n\n// export default getSingleMovie;\n\n// https://api.themoviedb.org/3/trending/all/day?api_key=<<api_key>>\n\n// const instance = axios.create({\n//   baseURL: 'https://api.themoviedb.org/3/movie/550',\n// });\n\n// https://api.themoviedb.org/3/search/movie?api_key=<<api_key>>&language=en-US&page=1&include_adult=false\n\n//   params: {\n//       search: query,\n//       _page: 1,\n//       api_key: '6de1479941bef67a0c224787b78603f1',\n//     },\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MoviesPage_container__tbEhN\"};","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"MoviesSearchForm_form__47Gqn\",\"input\":\"MoviesSearchForm_input__yhJ89\",\"search_button\":\"MoviesSearchForm_search_button__CPGLh\"};","import { useState } from 'react';\nimport css from 'components/MoviesSearchForm/MoviesSearchForm.module.css';\n\nconst MoviesSerchForm = ({ onSubmit }) => {\n  const [state, setState] = useState({\n    search: '',\n  });\n\n  const handleChangd = ({ target }) => {\n    const { name, value } = target;\n    setState({\n      ...state,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    onSubmit({ ...state });\n    setState({\n      search: '',\n    });\n  };\n\n  return (\n    <form className={css.form} onSubmit={handleSubmit}>\n      <input\n        name=\"search\"\n        value={state.search}\n        onChange={handleChangd}\n        placeholder=\"Search...\"\n        className={css.input}\n      />\n      <button className={css.search_button}></button>\n    </form>\n  );\n};\n\nexport default MoviesSerchForm;\n","import css from '../MoviesPage/MoviesPage.module.css';\n\nimport MoviesSerchForm from '../../MoviesSearchForm/MoviesSearchForm';\nimport { searchMovies } from 'components/apiServise/apiMovies';\nimport MoviesList from 'components/MoviesList/MoviesList';\n\nimport { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nconst MoviesPage = () => {\n  const [state, setState] = useState({\n    items: [],\n    loading: false,\n    error: null,\n  });\n\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const search = searchParams.get('search');\n  // console.log(search);\n\n  // const [search, setSearch] = useState('');\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      try {\n        setState(prevState => ({\n          ...prevState,\n          loading: true,\n          error: null,\n        }));\n        const result = await searchMovies(search);\n        console.log(result);\n        setState(prevState => {\n          return {\n            ...prevState,\n            items: [...result.results],\n          };\n        });\n      } catch (error) {\n        setState(prevState => ({\n          ...prevState,\n          error,\n        }));\n      } finally {\n        setState(prevState => {\n          return {\n            ...prevState,\n            loading: false,\n          };\n        });\n      }\n    };\n\n    if (search) {\n      fetchMovies();\n    }\n\n    console.log('запускаємо useEffect');\n  }, [search]);\n\n  const changeSearch = ({ search }) => {\n    // setSearch(search);\n    setSearchParams({ search });\n  };\n\n  // console.log(search);\n\n  const { items } = state;\n\n  return (\n    <div className={css.container}>\n      <MoviesSerchForm onSubmit={changeSearch} />\n      {items.length > 0 && <MoviesList items={items} />}\n    </div>\n  );\n};\nexport default MoviesPage;\n\nMoviesPage.defaultProps = {\n  items: [],\n};\n"],"names":["MoviesList","items","location","useLocation","console","log","listMovies","map","id","title","className","css","state","from","to","defaultProps","instance","axios","baseURL","getMovies","get","data","getSingleMovie","searchMovies","query","params","api_key","getCastMovie","getReviewsMovie","onSubmit","useState","search","setState","event","preventDefault","name","value","onChange","target","placeholder","MoviesPage","loading","error","useSearchParams","searchParams","setSearchParams","useEffect","fetchMovies","prevState","result","results","length"],"sourceRoot":""}