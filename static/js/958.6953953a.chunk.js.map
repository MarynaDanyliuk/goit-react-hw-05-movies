{"version":3,"file":"static/js/958.6953953a.chunk.js","mappings":"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","sources":["components/apiServise/apiMovies.js","webpack://react-homework-template/./src/components/pages/MovieDetails/MovieDetails.module.css?1b37","components/pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n});\n\nexport const getMovies = async () => {\n  const { data } = await instance.get(\n    `/trending/movie/day?api_key=6de1479941bef67a0c224787b78603f1`\n  );\n  return data;\n};\n\nexport const getSingleMovie = async id => {\n  const { data } = await instance.get(\n    `/movie/${id}?api_key=6de1479941bef67a0c224787b78603f1`\n  );\n  return data;\n};\n\n//api.themoviedb.org/3/movie/{movie_id}/images?api_key=<<api_key>>&language=en-US\n\n// export const getImagesMovie = async (id, value) => {\n//   const res = await fetch(\n//     `https://api.themoviedb.org/3/search/movie${id}?api_key=6de1479941bef67a0c224787b78603f1&language=en-US&query=${value}&page=1&include_adult=false`\n//   );\n//   const info = await res.json();\n//   return info;\n// };\n\nexport async function searchMovies(value) {\n  const res = await fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=6de1479941bef67a0c224787b78603f1&language=en-US&query=${value}&page=1&include_adult=false`\n  );\n  const info = await res.json();\n  return info;\n}\n\n// export const searchMovies = async query => {\n//   const { data } = await instance.get(`/search/movie/`, {\n//     params: {\n//       query,\n//       api_key: '6de1479941bef67a0c224787b78603f1',\n//     },\n//   });\n//   return data;\n// };\n\nexport const getCastMovie = async id => {\n  const { data } = await instance.get(\n    `/movie/${id}/credits?api_key=6de1479941bef67a0c224787b78603f1`\n  );\n  return data;\n};\n\nexport const getReviewsMovie = async id => {\n  const { data } = await instance.get(\n    `/movie/${id}/reviews?api_key=6de1479941bef67a0c224787b78603f1`\n  );\n  return data;\n};\n\n// export const getMovies = async () => {\n//   const { data } = await axios.get(\n//     `https://api.themoviedb.org/3/trending/all/day?api_key=6de1479941bef67a0c224787b78603f1`\n//   );\n//   return data;\n// };\n\n// export default getMovies;\n\n// export default getSingleMovie;\n\n// https://api.themoviedb.org/3/trending/all/day?api_key=<<api_key>>\n\n// const instance = axios.create({\n//   baseURL: 'https://api.themoviedb.org/3/movie/550',\n// });\n\n// https://api.themoviedb.org/3/search/movie?api_key=<<api_key>>&language=en-US&page=1&include_adult=false\n\n//   params: {\n//       search: query,\n//       _page: 1,\n//       api_key: '6de1479941bef67a0c224787b78603f1',\n//     },\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieDetails_container__rZCdL\",\"page_title\":\"MovieDetails_page_title__CHPaH\",\"section_title\":\"MovieDetails_section_title__vXK55\",\"section_data\":\"MovieDetails_section_data__vEEV2\",\"genres\":\"MovieDetails_genres__2ERh5\",\"genre_item\":\"MovieDetails_genre_item__aF+Lx\",\"goback_button\":\"MovieDetails_goback_button__QOK9Y\",\"wrapper_link\":\"MovieDetails_wrapper_link__AXEkr\",\"wrapper_movie\":\"MovieDetails_wrapper_movie__xVwZn\",\"link\":\"MovieDetails_link__E3pMX\",\"active\":\"MovieDetails_active__YpE2D\"};","import { useState, useEffect } from 'react';\nimport {\n  useParams,\n  Outlet,\n  useNavigate,\n  NavLink,\n  useLocation,\n} from 'react-router-dom';\n\nimport css from '../MovieDetails/MovieDetails.module.css';\n\nimport {\n  // getImagesMovie,\n  getSingleMovie,\n} from 'components/apiServise/apiMovies';\n\nconst MovieDetails = () => {\n  const [state, setState] = useState({\n    item: {},\n    image: null,\n    loading: false,\n    error: null,\n  });\n\n  const { movieId } = useParams();\n  console.log(movieId);\n\n  const location = useLocation();\n\n  // console.log(location.state);\n\n  const from = location.state?.from || '/movies';\n\n  useEffect(() => {\n    console.log('запускаємо useEffect');\n    const fetchMovies = async () => {\n      try {\n        setState(prevState => ({\n          ...prevState,\n          loading: true,\n          error: null,\n        }));\n        const data = await getSingleMovie(movieId);\n        // const imageMovie = await getImagesMovie(movieId);\n        setState(prevState => {\n          return {\n            ...prevState,\n            item: data,\n            // image: imageMovie,\n          };\n        });\n      } catch (error) {\n        setState(prevState => ({\n          ...prevState,\n          error,\n        }));\n      } finally {\n        setState(prevState => {\n          return {\n            ...prevState,\n            loading: false,\n          };\n        });\n      }\n    };\n\n    fetchMovies();\n  }, [movieId, setState]);\n\n  const { title, release_date, overview, vote_average, genres } = state.item;\n  // console.log(state.image);\n\n  // console.log(poster_path);\n\n  const getClassName = ({ isActive }) => {\n    const className = isActive ? `${css.link} ${css.active}` : css.link;\n    return className;\n  };\n\n  const navigate = useNavigate();\n\n  // const goBack = () => navigate(location.state.from.pathname);\n\n  const goBack = () => navigate(from);\n\n  let genresListAll = genres || [];\n  const genresList = genresListAll.map(({ id, name }) => (\n    <li className={css.genre_item} key={id}>\n      {name}\n    </li>\n  ));\n  const userScore = (vote_average * 10).toFixed();\n  const releaseData = new Date(release_date);\n  const releaseYear = releaseData.getFullYear();\n  // const urlMovie = backdrop_path || '/fCayJrkfRaCRCTh8GqN30f8oyQF.jpg';\n\n  return (\n    <div className={css.container}>\n      <button className={css.goback_button} onClick={goBack} type=\"button\">\n        Go back\n      </button>\n      <div className={css.wrapper_movie}>\n        <img\n          // src={`https://api.themoviedb.org/3/movie/529892?api_key=6de1479941bef67a0c224787b78603f1&/fCayJrkfRaCRCTh8GqN30f8oyQF.jpg`}\n          alt=\"pic\"\n        ></img>\n        <div>\n          <h2 className={css.page_title}>\n            {title} ({releaseYear})\n          </h2>\n          <p className={css.section_data}>User score: {userScore}%</p>\n          <h3 className={css.section_title}>Overview:</h3>\n          <p className={css.section_data}>{overview}</p>\n          <h3 className={css.section_title}>Genres:</h3>\n          {genresListAll.length > 0 && (\n            <ul className={css.genres}>{genresList}</ul>\n          )}\n        </div>\n      </div>\n\n      <div className={css.wrapper_link}>\n        <h3 className={css.section_title}>Additional information:</h3>\n        <NavLink\n          state={{ from }}\n          className={getClassName}\n          to={`/movies/${movieId}/cast`}\n        >\n          Cast\n        </NavLink>\n        <NavLink\n          state={{ from }}\n          className={getClassName}\n          to={`/movies/${movieId}/reviews`}\n        >\n          Reviews\n        </NavLink>\n        <Outlet />\n      </div>\n    </div>\n  );\n};\n\nexport default MovieDetails;\n\n// MovieDetails.defaultProps = {\n//   item: {},\n//   loading: false,\n//   error: null,\n// };\n"],"names":["instance","axios","baseURL","getMovies","get","data","getSingleMovie","id","searchMovies","value","fetch","res","json","info","getCastMovie","getReviewsMovie","useState","item","image","loading","error","state","setState","movieId","useParams","console","log","from","useLocation","useEffect","fetchMovies","prevState","title","release_date","overview","vote_average","genres","getClassName","isActive","css","navigate","useNavigate","genresListAll","genresList","map","name","className","userScore","toFixed","releaseYear","Date","getFullYear","onClick","type","alt","length","to"],"sourceRoot":""}